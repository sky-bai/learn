本文章向大家介绍赏析Singleflight设计，主要内容包括前言、缓存击穿、如何解决、源码赏析、Do方法、docall、Dochan和Forget方法、
注意事项、总结、基本概念、基础应用、原理机制和需要注意的事项等，并结合实例形式分析了其使用技巧，希望通过本文能帮助到大家理解应用这部分内容。

#1.缓存击穿
平常在高并发系统中，会出现大量的请求同时查询一个key的情况，假如此时这个热key刚好失效了，就会导致大量的请求都打到数据库上面去，这种现象就是缓存击穿。
缓存击穿和缓存雪崩有点像，但是又有一点不一样，缓存雪崩是因为大面积的缓存失效，
打崩了DB，而缓存击穿则是指一个key非常热点，在不停的扛着高并发，高并发集中对着这一个点进行访问，
如果这个key在失效的瞬间，持续的并发到来就会穿破缓存，直接请求到数据库，就像一个完好无损的桶上凿开了一个洞，造成某一时刻数据库请求量过大，压力剧增！

我认为，如果您的应用程序将获得对同一资源的多个请求，那么singleFlight是一个非常有用的包
在bff层去使用singleFlight 然后调用其他服务

1.使用场景
2.实现原理
singleflightd的设计思路就是将一组相同的请求合并成一个请求，使用map存储，只会有一个请求到达mysql，使用sync.waitgroup包进行同步，对所有的请求返回相同的结果。
3.具体例子
4.优缺点 什么时候不能用这个
5.作用

1.请求图片接口
2.rdb master data
3.ip address lookups
4.证书

避免了惊群现象

