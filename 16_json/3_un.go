package main

import (
	"encoding/json"
	"fmt"
)

type ConfigBuBiao struct {
	HostsConfig []Hosts `json:"hosts"`
	Signature   string  `json:"signature"`
}

// Hosts 设备对应的部标平台设置
type Hosts struct {
	BkServerPort int    `json:"bk_serverport"`
	BkServerDns  string `json:"bk_serverdns"`
	Jtt808Ver    int    `json:"jtt808ver"`
	ServerPort   int    `json:"serverport"`
	ServerDns    string `json:"serverdns"`
}

func main() {
	configStr := "{\"ImeiStr\":\"803278214323710\",\"ConfigStr\":\"{\\\"hosts\\\":[{\\\"serverdns\\\":\\\"129.204.23.58\\\",\\\"serverport\\\":\\\"7611\\\",\\\"bk_serverdns\\\":\\\"129.204.23.58\\\",\\\"bk_serverport\\\":\\\"7611\\\"}],\\\"signature\\\":\\\"v1.1\\\"}\",\"Scheme\":1,\"Platform\":\"tongtianxin\",\"IsOpen\":false,\"token\":\"GmVf4vH6xMu8NNHeW7VQ\",\"appPlatform\":\"work-space\",\"appVersion\":\"0.1.1\"}"
	var configBuBiao ConfigBuBiao
	err := json.Unmarshal([]byte(configStr), &configBuBiao)
	if err != nil {
		fmt.Println("error:", err)
	}

	s := "[{\n                     \"system_time\":  1723014400708,\n                     \"gps_time\":     1723014401000,\n                     \"latitude\":     30.541911,\n                     \"longitude\":    104.061145,\n                     \"accuracy\":     5.935839,\n                     \"gps_bearing\":  69,\n                     \"speed\":        0.164020,\n                     \"location_type\":        0,\n                     \"info\": [{\n                                     \"x1\":   3,\n                                     \"y1\":   4,\n                                     \"x2\":   67,\n                                     \"y2\":   68,\n                                     \"score\":        0.900000,\n                                     \"label\":        2,\n                                     \"id\":   \"\"\n                             }, {\n                                     \"x1\":   3,\n                                     \"y1\":   4,\n                                     \"x2\":   67,\n                                     \"y2\":   68,\n                                     \"score\":        0.900000,\n                                     \"label\":        2,\n                                     \"id\":   \"\"\n                             }, {\n                                     \"x1\":   0,\n                                     \"y1\":   -0.000005,\n                                     \"x2\":   1,\n                                     \"y2\":   -0.000005,\n                                     \"score\":        -0.000007,\n                                     \"label\":        -1092175032,\n                                     \"id\":   \"\"\n                             }]\n             }, {\n                     \"system_time\":  1723014401708,\n                     \"gps_time\":     1723014402000,\n                     \"latitude\":     30.541911,\n                     \"longitude\":    104.061145,\n                     \"accuracy\":     5.950969,\n                     \"gps_bearing\":  69,\n                     \"speed\":        0.258113,\n                     \"location_type\":        0,\n                     \"info\": [{\n                                     \"x1\":   3,\n                                     \"y1\":   4,\n                                     \"x2\":   67,\n                                     \"y2\":   68,\n                                     \"score\":        0.900000,\n                                     \"label\":        2,\n                                     \"id\":   \"\"\n                             }, {\n                                     \"x1\":   3,\n                                     \"y1\":   4,\n                                     \"x2\":   67,\n                                     \"y2\":   68,\n                                     \"score\":        0.900000,\n                                     \"label\":        2,\n                                     \"id\":   \"\"\n                             }, {\n                                     \"x1\":   0,\n                                     \"y1\":   -0.000005,\n                                     \"x2\":   1,\n                                     \"y2\":   -0.000005,\n                                     \"score\":        -0.000007,\n                                     \"label\":        -1092175032,\n                                     \"id\":   \"\"\n                             }]\n             }, {\n                     \"system_time\":  1723014402708,\n                     \"gps_time\":     1723014403000,\n                     \"latitude\":     30.541911,\n                     \"longitude\":    104.061145,\n                     \"accuracy\":     5.990577,\n                     \"gps_bearing\":  69,\n                     \"speed\":        0,\n                     \"location_type\":        0,\n                     \"info\": [{\n                                     \"x1\":   3,\n                                     \"y1\":   4,\n                                     \"x2\":   67,\n                                     \"y2\":   68,\n                                     \"score\":        0.900000,\n                                     \"label\":        2,\n                                     \"id\":   \"\"\n                             }, {\n                                     \"x1\":   3,\n                                     \"y1\":   4,\n                                     \"x2\":   67,\n                                     \"y2\":   68,\n                                     \"score\":        0.900000,\n                                     \"label\":        2,\n                                     \"id\":   \"\"\n                             }, {\n                                     \"x1\":   0,\n                                     \"y1\":   -0.000005,\n                                     \"x2\":   1,\n                                     \"y2\":   -0.000005,\n                                     \"score\":        -0.000007,\n                                     \"label\":        -1092175032,\n                                     \"id\":   \"\"\n                             }]\n             }, {\n                     \"system_time\":  1723014403708,\n                     \"gps_time\":     1723014404000,\n                     \"latitude\":     30.541911,\n                     \"longitude\":    104.061145,\n                     \"accuracy\":     6.017393,\n                     \"gps_bearing\":  69,\n                     \"speed\":        0,\n                     \"location_type\":        0,\n                     \"info\": [{\n                                     \"x1\":   3,\n                                     \"y1\":   4,\n                                     \"x2\":   67,\n                                     \"y2\":   68,\n                                     \"score\":        0.900000,\n                                     \"label\":        2,\n                                     \"id\":   \"\"\n                             }, {\n                                     \"x1\":   3,\n                                     \"y1\":   4,\n                                     \"x2\":   67,\n                                     \"y2\":   68,\n                                     \"score\":        0.900000,\n                                     \"label\":        2,\n                                     \"id\":   \"\"\n                             }, {\n                                     \"x1\":   0,\n                                     \"y1\":   -0.000005,\n                                     \"x2\":   1,\n                                     \"y2\":   -0.000005,\n                                     \"score\":        -0.000007,\n                                     \"label\":        -1092175032,\n                                     \"id\":   \"\"\n                             }]\n             }, {\n                     \"system_time\":  1723014404708,\n                     \"gps_time\":     1723014405000,\n                     \"latitude\":     30.541911,\n                     \"longitude\":    104.061145,\n                     \"accuracy\":     6.025787,\n                     \"gps_bearing\":  69,\n                     \"speed\":        0.136769,\n                     \"location_type\":        0,\n                     \"info\": [{\n                                     \"x1\":   3,\n                                     \"y1\":   4,\n                                     \"x2\":   67,\n                                     \"y2\":   68,\n                                     \"score\":        0.900000,\n                                     \"label\":        2,\n                                     \"id\":   \"\"\n                          }, {\n                                \"x1\":   3,\n                                  \"y1\":   4,\n                                 \"x2\":   67,\n                                 \"y2\":   68,\n                               \"score\":        0.900000,\n                            \"label\":        2,\n                                 \"id\":   \"\"\n                            }, {\n                                  \"x1\":   0,\n                                 \"y1\":   -0.000005,\n                               \"x2\":   1,\n                               \"y2\":   -0.000005,\n                                   \"score\":        -0.000007,\n                                   \"label\":        -1092175032,\n                                 \"id\":   \"\"\n                          }]\n          }]\n"
	var s1 []map[string]interface{}
	err = json.Unmarshal([]byte(s), &s1)
	if err != nil {
		fmt.Println("error:", err)
	}
}
